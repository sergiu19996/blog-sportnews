{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<section>
    <h2>News</h2>
    {% for news_item in news %}
        <article>
            <h3>{{ news_item.title }}</h3>
            <p>{{ news_item.content|truncatewords:30 }}</p>
            <p>Author: {{ news_item.author.username }}</p>
            <p>Published Date: {{ news_item.created_at }}</p>
            <a href="{% url 'news_detail' news_item.id %}">Read more</a>
        </article>
    {% empty %}
        <p>No news available.</p>
    {% endfor %}
</section>

<section>
    <h2>Events</h2>
    {% for event in events %}
        <article>
            <h3>{{ event.name }}</h3>
            <p>Location: {{ event.location }}</p>
            <p>Event Date: {{ event.date }}</p>
            <a href="{% url 'event_detail' event.id %}">Read more</a>
        </article>
    {% empty %}
        <p>No events available.</p>
    {% endfor %}
</section>

<section>
    <h2>Comments</h2>
    {% for comment in comments %}
        <article>
            <p>{{ comment.content|truncatewords:30 }}</p>
            <p>Author: {{ comment.author.username }}</p>
            <p>Comment Date: {{ comment.created_at }}</p>
        </article>
    {% empty %}
        <p>No comments available.</p>
    {% endfor %}
</section>
{% endblock %}